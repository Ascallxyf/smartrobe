# 解决 C/C++ IntelliSense 错误的方法

## 问题原因
`greenlet.h` 中的 `#include <Python.h>` 报错是因为系统缺少 C 标准库头文件（如 `io.h`），这些文件由 C/C++ 编译器工具链提供。

## 解决方案（二选一）

### 方案 A：安装 MSYS2 + MinGW-w64（推荐）

1. **下载安装 MSYS2**：
   - 访问：https://www.msys2.org/
   - 下载并运行安装程序
   - 默认安装到 `C:\msys64`

2. **安装 GCC 工具链**：
   打开 MSYS2 终端，依次执行：
   ```bash
   pacman -Syu
   # 关闭终端后重新打开，再执行：
   pacman -S --needed base-devel mingw-w64-x86_64-toolchain
   ```

3. **添加到系统 PATH**：
   - 打开"系统环境变量"设置
   - 在 PATH 中添加：`C:\msys64\mingw64\bin`
   - 重启 VS Code

4. **更新 VS Code 配置**：
   在 `.vscode/c_cpp_properties.json` 中添加：
   ```json
   "compilerPath": "C:/msys64/mingw64/bin/gcc.exe"
   ```

### 方案 B：安装 Visual Studio Build Tools

1. **下载安装**：
   - 访问：https://visualstudio.microsoft.com/downloads/
   - 下载"Visual Studio 2022 生成工具"
   - 安装时勾选"使用 C++ 的桌面开发"工作负载

2. **使用 Developer Command Prompt**：
   - 安装后，从开始菜单找到"x64 Native Tools Command Prompt for VS 2022"
   - 在该命令提示符中启动 VS Code：`code "D:\vscodeproject\服装图片-指标"`

3. **更新 VS Code 配置**：
   在 `.vscode/c_cpp_properties.json` 中添加 MSVC 的路径（示例）：
   ```json
   "compilerPath": "C:/Program Files/Microsoft Visual Studio/2022/BuildTools/VC/Tools/MSVC/14.xx.xxxxx/bin/Hostx64/x64/cl.exe"
   ```

## 临时解决方案（如果只需要编辑不需要编译）

如果你不需要实际编译 C 代码，只是想让 IntelliSense 不报错，可以：

在 `.vscode/settings.json` 中添加：
```json
{
    "C_Cpp.errorSquiggles": "disabled"
}
```

这会禁用所有 C/C++ 的错误波浪线，但 IntelliSense 功能会受限。

## 验证安装

安装编译器后，在 PowerShell 中运行：
```powershell
gcc --version  # MinGW 方案
# 或
cl            # MSVC 方案
```

应该能看到版本信息，说明安装成功。
